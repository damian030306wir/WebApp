{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\weather2\\\\src\\\\components\\\\Login\\\\Login.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport './Login.css';\n\nclass Login extends Component {\n  constructor() {\n    super();\n\n    this.login = () => {\n      var details = {\n        'Username': this.state.Username,\n        'Password': this.state.Password,\n        'grant_type': 'password'\n      };\n      var formBody = [];\n\n      for (var property in details) {\n        var encodedKey = encodeURIComponent(property);\n        var encodedValue = encodeURIComponent(details[property]);\n        formBody.push(encodedKey + \"=\" + encodedValue);\n      }\n\n      formBody = formBody.join(\"&\");\n      fetch('http://dearjean.ddns.net:44301' + '/Token', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: formBody\n      }).then(res => res.json()).then(result => {\n        let responseJson = result;\n\n        if (responseJson.access_token) {\n          sessionStorage.setItem('access_token', responseJson.access_token);\n          this.setState({\n            redirectToReferrer: true\n          });\n        } else {\n          alert(\"Błędne dane, proszę wpisać poprawne dane\");\n        }\n\n        console.log(result);\n      });\n    };\n\n    this.state = {\n      Username: '',\n      Password: '',\n      grant_type: 'password',\n      redirectToReferrer: false\n    };\n    this.login = this.login.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  render() {\n    if (this.state.redirectToReferrer) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: '/home',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }\n      });\n    }\n\n    if (sessionStorage.getItem('access_token')) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: '/home',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }\n      });\n    }\n\n    return (\n      /*#__PURE__*/\n      // <div className=\"row\" id=\"Body\">\n      //     <div className=\"medium-5 columns left\">\n      //         <h4>Zaloguj się</h4>\n      //         <label>Nazwa użytkownika</label>\n      //         <input className=\"lefcik\" type=\"text\" name=\"Username\" placeholder=\"Nazwa użytkownika\" onChange={this.onChange} />\n      //         <label>Hasło</label>\n      //         <input type=\"password\" name=\"Password\" placeholder=\"Hasło\" onChange={this.onChange} />\n      //         <input type=\"submit\" className=\"button success\" value=\"Zaloguj się\" onClick={this.login} />\n      //         <a href=\"/signup\">Rejestracja</a>\n      //     </div>\n      // </div>\n      React.createElement(\"div\", {\n        className: \"Body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"login-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }\n      }, \"Zaloguj si\\u0119\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"textbox\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-user\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"Username\",\n        placeholder: \"Nazwa u\\u017Cytkownika\",\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"textbox\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-lock\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"password\",\n        name: \"Password\",\n        placeholder: \"Has\\u0142o\",\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"submit\",\n        className: \"btn2\",\n        value: \"Zaloguj si\\u0119\",\n        onClick: this.login,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"a\", {\n        href: \"/signup\",\n        className: \"btn2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }\n      }, \"Rejestracja\")))\n    );\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/user/Desktop/weather2/src/components/Login/Login.js"],"names":["React","Component","Redirect","Login","constructor","login","details","state","Username","Password","formBody","property","encodedKey","encodeURIComponent","encodedValue","push","join","fetch","method","headers","body","then","res","json","result","responseJson","access_token","sessionStorage","setItem","setState","redirectToReferrer","alert","console","log","grant_type","bind","onChange","e","target","name","value","render","getItem"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport './Login.css';\r\n\r\n\r\nclass Login extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            Username: '',\r\n            Password: '',\r\n            grant_type: 'password',\r\n            redirectToReferrer: false\r\n        };\r\n\r\n        this.login = this.login.bind(this);\r\n        this.onChange = this.onChange.bind(this);\r\n\r\n    }\r\n\r\n\r\n\r\n    login = () => {\r\n        var details = {\r\n            'Username': this.state.Username,\r\n            'Password': this.state.Password,\r\n            'grant_type': 'password'\r\n        };\r\n\r\n        var formBody = [];\r\n        for (var property in details) {\r\n            var encodedKey = encodeURIComponent(property);\r\n            var encodedValue = encodeURIComponent(details[property]);\r\n            formBody.push(encodedKey + \"=\" + encodedValue);\r\n        }\r\n        formBody = formBody.join(\"&\");\r\n\r\n        fetch('http://dearjean.ddns.net:44301' + '/Token', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/x-www-form-urlencoded'\r\n            },\r\n            body: formBody\r\n        })\r\n            .then(res => res.json())\r\n            .then(result => {\r\n\r\n                let responseJson = result;\r\n                if (responseJson.access_token) {\r\n\r\n                    sessionStorage.setItem('access_token', responseJson.access_token)\r\n                    this.setState({\r\n                        redirectToReferrer: true\r\n                    })\r\n                } else {\r\n                    alert(\"Błędne dane, proszę wpisać poprawne dane\")\r\n                }\r\n\r\n                console.log(result)\r\n            })\r\n\r\n    }\r\n\r\n\r\n\r\n    onChange(e) {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n\r\n        if (this.state.redirectToReferrer) {\r\n            return (<Redirect to={'/home'} />)\r\n        }\r\n\r\n        if (sessionStorage.getItem('access_token')) {\r\n            return (<Redirect to={'/home'} />)\r\n        }\r\n\r\n        return (\r\n            // <div className=\"row\" id=\"Body\">\r\n            //     <div className=\"medium-5 columns left\">\r\n            //         <h4>Zaloguj się</h4>\r\n            //         <label>Nazwa użytkownika</label>\r\n            //         <input className=\"lefcik\" type=\"text\" name=\"Username\" placeholder=\"Nazwa użytkownika\" onChange={this.onChange} />\r\n            //         <label>Hasło</label>\r\n            //         <input type=\"password\" name=\"Password\" placeholder=\"Hasło\" onChange={this.onChange} />\r\n            //         <input type=\"submit\" className=\"button success\" value=\"Zaloguj się\" onClick={this.login} />\r\n            //         <a href=\"/signup\">Rejestracja</a>\r\n            //     </div>\r\n            // </div>\r\n            <div className=\"Body\">\r\n                <div className=\"login-box\">\r\n                    <h1>Zaloguj się</h1>\r\n                    <div className=\"textbox\">\r\n                        <i className=\"fas fa-user\"></i>\r\n                        <input type=\"text\" name=\"Username\" placeholder=\"Nazwa użytkownika\" onChange={this.onChange} />\r\n                    </div>\r\n                    <div className=\"textbox\">\r\n                        <i className=\"fas fa-lock\"></i>\r\n                        <input type=\"password\" name=\"Password\" placeholder=\"Hasło\" onChange={this.onChange} />\r\n                    </div>\r\n                    <input type=\"submit\" className=\"btn2\" value=\"Zaloguj się\" onClick={this.login} />\r\n                    <a href=\"/signup\" className=\"btn2\">Rejestracja</a>\r\n                </div>\r\n            </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}